## 因特网
- 根据它的硬件和软件组件来描述
	- 端系统通过通信链路和分组交换机连接到一起，协议控制因特网中信息的接受和发送。
- 根据基础设施向分布式应用程序提供的服务来描述
	- 分布式应用程序的平台。
	- 与因特网相连的端系统提供了一个 API，该 API 规定了运行在一个端系统上的软件请求因特网基础设施向运行在另一个端系统上的特定目的地软件交付数据的方式。因特网 API 是一套发送软件必须遵循的规则集合，因此因特网能够将数据交付给目的地。
- 网络中的网络。

## 协议
- 一个协议定义了在两个或多个通信实体之间交换的报文格式和次序，以及报文发送和/或接受一条报文或其他事件所采取的行动。
- 应用层
	- 网络应用程序及它们的应用层协议存留的地方。
- 运输层
	- 在应用程序端点之间传送应用层报文。
	- TCP、UDP
	- 运输层分组称为报文段（segment）。
- 网络层
	- 网络层负责将称为数据报（datagram）的网络层分组从一台主机移动到另一台主机。
	- IP 协议和一些路由选择协议。
- 链路层
	- 网络层通过源和目的地之间的一系列路由器传输数据报。为了将分组从一个结点（主机或路由器）移动到（主机或路由器）移动到路径上的下一个结点，网络层必须依靠该链路层的服务。
	- 把链路层分组称为帧（frame）。
- 物理层
	- 链路层的任务是将整个帧从一个网络元素移动到邻近的网络元素。
	- 物理层的任务是将该帧中的一个一个比特从一个结点移动到下一个结点。
	
### OSI 模型
- 表示层
	- 使通信的应用程序能够解释交换数据的含义。
	- 数据要锁、数据加密、数据描述。
- 会话层
	- 数据交换定界和同步功能，包括建立检查点和恢复方案的方法。
- 因特网将表示层和会话层的服务留给应用程序开发者处理。

## 分组交换
- 报文（message）
	- 一个端系统中的应用程序使用协议与另一个端系统中的应用程序交换信息的分组。
	- 报文能够包含协议设计者需要的任何东西。
- 分组（packet）
	- 为了从源端系统向目的端系统发送一个报文，源将长报文划分为较小的数据块，称之为分组。
- 存储转发传输
	- 在交换机能够开始向输出链路传输该分组的第一个比特之前，必须接收到整个分组。
- 排队时延与分组丢失
	- 每个分组交换机有多条链路与之相连，对于每条相连的链路，该分组交换机具有一个输出缓存（output buffer）（也称为输出队列 output queue），它用于存储路由器准备发往那条链路的分组。如果到达的分组需要传输到某条链路，但发现该链路正在忙于传输其他分组，该到达分组必须在该输出缓存中等待。因此，除了存储转发时延以外，分组还要承受输出缓存的排队时延（queue delay）。
	- 因为缓存空间的大小是有限的，一个到达的分组可能发现该缓存已被其他等待传输的分组完全充满了。再次情况下，将出现分组丢失（丢包）（packet lost），到达的分组或已经排队的分组之一将被丢弃。
- 转发表和路由选择协议
	- 在因特网中，每个端系统具有一个称为 IP 地址的地址。当源主机要向目的端系统发送一个分组时，源在该分组的首部包含了目的地的 IP 地址。该地址具有一种等级结构，当一个分组到达网络中的路由器时，路由器检查该分组的目的地址的一部分，并向一台相邻路由器转发该分组。每台路由器具有一个转发表（forwarding table），用于将目的地址（或目的地址的一部分）映射成为输出链路。当某分组到达一台路由器时，路由器检查该地址，并用这个目的地址搜索其转发表，以发现适当的出链路。路由器则将分组导向该出链路。
	- 转发表如何进行设置。路由选择协议（routing protocol），用于自动地设置转发表。
	
### 时延
- 处理时延
	- 检查分组首部和决定将该分组导向何处所需要的时间是处理时延的一部分。处理时延也能包括其他因素，如检查比特级别的差错所需要的时间。
- 排队时延
	- 每个分组交换机有多条链路与之相连，对于每条相连的链路，该分组交换机具有一个输出缓存（output buffer）（也称为输出队列 output queue），它用于存储路由器准备发往那条链路的分组。如果到达的分组需要传输到某条链路，但发现该链路正在忙于传输其他分组，该到达分组必须在该输出缓存中等待。因此，除了存储转发时延以外，分组还要承受输出缓存的排队时延（queue delay）。
- 传输时延
	- 用 L 比特表示该分组的长度，用 R bps 表示从路由器 A 到 路由器 B 的链路传输速率。传输时延是 L/R。将所有分组的比特推向链路所需要的时间。
- 传播时延
	- 一旦一个比特被推向链路，该比特需要向路由器 B 传播。从该链路的起点到路由器 B 传播所需要的时间是传播时延。



## 电路交换
- 在电路交换网络中，在端系统间通信会话期间，预留了端系统间通信沿路径所需要的资源（缓存，链路传输速率）。在分组交换网络中，这些资源则不是预留的；会话的报文按需使用这些资源，其后果可能是不得不等待（即排队）接入通信线路。
- 电路交换不考虑需求，而预先分配了传输链路的使用，这使得已分配而并不需要的链路时间未被利用。另一方面，分组交换按需分配链路使用，链路传输能力将在所有用户之间逐分组地被共享。

### 电路交换网络中的复用
- 频分复用（Frequency-Division Multiplexing，FDM）
	- 链路的频谱由跨越链路创建的所有连接所共享，在连接期间每条连接专用一个频段。
- 时分复用（Time-Division Multiplexing，TDM）
	- 时间被划分为固定区间的帧，并且没帧又被划分为固定数量的时隙。当网络跨越一条链路创建一条连接时，网络在每个帧中为该连接指定相同的专用时隙。
	- 一条电路的传输速率等于帧速率乘以一个时隙中的比特数量。

